<div class="menu-page">
  <app-header></app-header>
  <div class="row">
    <div class="col-md-2">
      <app-sidebar></app-sidebar>
    </div>
    <div class="col-md-10">
      <div class="menu-container">
        <router-outlet></router-outlet>

        <!-- Page Header -->
        <div class="page-header">
          <div class="header-content">
            <h1 class="page-title">Browse Menu</h1>
            <p class="page-subtitle">Discover our delicious collection of dishes</p>
          </div>
          <div class="header-stats">
            <div class="stat-card">
              <div class="stat-icon">
                <mat-icon>restaurant_menu</mat-icon>
              </div>
              <div class="stat-info">
                <span class="stat-number">{{filteredFoodItems?.length}}</span>
                <span class="stat-label">Items Available</span>
              </div>
            </div>
          </div>
        </div>

        <!-- Category Navigation -->
        <div class="category-nav">
          <div class="nav-header">
            <h2>Categories</h2>
            <button class="nav-toggle" mat-icon-button (click)="isCollapsed = !isCollapsed">
              <mat-icon>{{isCollapsed ? 'expand_more' : 'expand_less'}}</mat-icon>
            </button>
          </div>
          
          <div class="category-buttons" [ngClass]="{'collapsed': isCollapsed}">
            <button 
              mat-raised-button 
              class="category-btn active" 
              (click)="AllItemFilter()">
              <mat-icon>restaurant</mat-icon>
              <span>All</span>
            </button>
            
            <button 
              *ngFor="let category of headerMenu" 
              mat-raised-button 
              class="category-btn"
              (click)="onOriginCategorySelected(category)">
              <mat-icon>
                {{category === 'Starter' ? 'local_dining' : 
                  category === 'Punjabi' ? 'rice_bowl' :
                  category === 'South Indian' ? 'ramen_dining' :
                  category === 'Italian' ? 'local_pizza' :
                  category === 'Gujarati' ? 'lunch_dining' :
                  category === 'Sweet' ? 'cake' :
                  category === 'Cocktails' ? 'local_bar' : 'restaurant_menu'}}
              </mat-icon>
              <span>{{category}}</span>
            </button>
          </div>
        </div>

        <!-- Menu Items Grid -->
        <div class="menu-grid">
          <div class="grid-container">
            <div class="menu-card" *ngFor="let items of filteredFoodItems">
              <div class="card-image">
                <img [src]="url + items.image_url" [alt]="items.item_name" loading="lazy">
                <div class="image-overlay">
                  <div class="overlay-content">
                    <mat-icon>visibility</mat-icon>
                  </div>
                </div>
              </div>
              
              <div class="card-content">
                <div class="item-header">
                  <h3 class="item-name">{{items.item_name}}</h3>
                  <div class="item-price">
                    <span class="currency">â‚¹</span>
                    <span class="amount">{{items.price}}</span>
                  </div>
                </div>
                
                <p class="item-description">{{items.description}}</p>
                
                <div class="card-actions">
                  <button 
                    mat-raised-button 
                    color="primary" 
                    class="add-to-cart-btn"
                    (click)="addtoCart(items)">
                    <mat-icon>add_shopping_cart</mat-icon>
                    <span>Add to Cart</span>
                  </button>
                </div>
              </div>
            </div>
          </div>

          <!-- Empty State -->
          <div *ngIf="filteredFoodItems?.length === 0" class="empty-state">
            <div class="empty-icon">
              <mat-icon>restaurant_menu</mat-icon>
            </div>
            <h3>No Items Found</h3>
            <p>Try selecting a different category or check back later.</p>
          </div>
        </div>

        <!-- Floating Cart Button -->
        <div class="floating-cart">
          <button 
            mat-fab 
            color="primary" 
            class="cart-fab"
            routerLink="/cart"
            [matBadge]="totalItem" 
            matBadgeColor="warn"
            [matBadgeHidden]="totalItem === 0">
            <mat-icon>shopping_cart</mat-icon>
          </button>
        </div>
      </div>
    </div>
  </div>
</div>