<div class="profile-wrapper">
  <app-header></app-header>
  
  <div class="profile-container">
    <div class="profile-content">
      <!-- Profile Header -->
      <div class="profile-header">
        <div class="profile-avatar-section">
          <div class="avatar-container">
            <img src="../../../../assets/default-avatar.png" alt="Profile" class="profile-avatar">
            <button class="avatar-edit-btn" mat-mini-fab>
              <mat-icon>camera_alt</mat-icon>
            </button>
          </div>
          <div class="profile-info">
            <h1 class="profile-name">{{users.user?.first_name}} {{users.user?.last_name}}</h1>
            <p class="profile-email">{{users.user?.email}}</p>
            <div class="profile-stats">
              <div class="stat-item">
                <span class="stat-number">12</span>
                <span class="stat-label">Orders</span>
              </div>
              <div class="stat-item">
                <span class="stat-number">4.8</span>
                <span class="stat-label">Rating</span>
              </div>
            </div>
          </div>
        </div>
        
        <div class="profile-actions">
          <button mat-flat-button class="edit-btn" (click)="updateProfile()">
            <mat-icon>{{toggle ? 'edit' : 'close'}}</mat-icon>
            {{toggle ? "Edit Profile" : "Cancel"}}
          </button>
          <button mat-stroked-button class="password-btn" routerLink="/userChangePassword">
            <mat-icon>lock</mat-icon>
            Change Password
          </button>
          <button mat-stroked-button class="home-btn" routerLink="/home">
            <mat-icon>home</mat-icon>
            Go to Home
          </button>
        </div>
      </div>

      <!-- Profile Form -->
      <div class="profile-form-section">
        <form [formGroup]="updateProfileForm" class="profile-form">
          <div class="form-grid">
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>First Name</mat-label>
                <input matInput formControlName="first_name" [value]="users.user?.first_name">
                <mat-icon matPrefix>person</mat-icon>
              </mat-form-field>
            </div>
            
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Last Name</mat-label>
                <input matInput formControlName="last_name" [value]="users.user?.last_name">
              </mat-form-field>
            </div>
            
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Email Address</mat-label>
                <input matInput formControlName="email" [value]="users.user?.email">
                <mat-icon matPrefix>email</mat-icon>
              </mat-form-field>
            </div>
            
            <div class="form-group">
              <mat-form-field appearance="outline" class="full-width">
                <mat-label>Phone Number</mat-label>
                <input matInput formControlName="phone" [value]="users.user?.phone">
                <mat-icon matPrefix>phone</mat-icon>
              </mat-form-field>
            </div>
          </div>
          
          <div class="gender-section">
            <label class="gender-label">Gender</label>
            <mat-radio-group formControlName="gender" class="gender-group" [value]="users.user?.gender">
              <mat-radio-button value="Male">Male</mat-radio-button>
              <mat-radio-button value="Female">Female</mat-radio-button>
            </mat-radio-group>
          </div>
          
          <div class="form-actions" [hidden]="toggle">
            <button mat-flat-button class="save-btn" [disabled]="updateProfileForm.invalid" (click)="btnUpdate()">
              <mat-icon>save</mat-icon>
              Save Changes
            </button>
            <button mat-stroked-button class="delete-btn" (click)="btndelete()">
              <mat-icon>delete</mat-icon>
              Delete Account
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>